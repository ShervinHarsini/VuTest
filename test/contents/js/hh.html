<html>

<head>
<style>
body {
	background-color : #888;
	height: 5000px
}
.grid-stack{
	margin : 0 auto;
	width : 80%;
}
.grid-stack-item-content{
	background-color : #fff;
}
.grid-stack-item{

}
</style>
</head>

<body>

<div class="grid-stack">

</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<script>
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011â€“2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);
</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.4.0/gridstack.min.css" />
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.4.0/gridstack.min.js'></script>
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.4.0/gridstack.jQueryUI.min.js'></script>
<script type="text/javascript">
$(function () {

var dat1 = [{"y":"3","x":"4","width":"5","height":"2"},{"y":"5","x":"0","width":"4","height":"4"},{"y":"3","x":"0","width":"4","height":"2"},{"y":"5","x":"4","width":"8","height":"4"},{"y":"3","x":"9","width":"3","height":"2"},{"y":"9","x":"0","width":"4","height":"2"},{"y":"11","x":"0","width":"12","height":"2"},{"y":"0","x":"0","width":"12","height":"3"},{"y":"9","x":"4","width":"4","height":"2"},{"y":"9","x":"8","width":"4","height":"2"}]
var dat = []

$.each(dat, function(){

    var template = '<div class="grid-stack-item"'+
        'data-gs-x="'+this.x+'" data-gs-y="'+this.y+'"'+
        'data-gs-width="'+this.width+'" data-gs-height="'+this.height+'">'+
            '<div class="grid-stack-item-content"></div>'+
    '</div>'
	
	$(".grid-stack").append(template)

})
var a = 0
$(document).keyup(function( event ) {
  if ( event.which == 8 ) {
    
    var html = '<div class="grid-stack-item"> '
    html += '<div class="grid-stack-item-content"></div>';  
    html += '</div>';  
     grid.data('gridstack').addWidget($(html), 0, 0, 3, 2, true, null, null, null, null, null);
  }
});
var elem = [];

$(document).on("mouseover", '.grid-stack-item', function(e){
  elem.push(e.currentTarget)

})

  $(document).on("keyup", function( event ) {
  if ( event.which == 13 ) {
	if(Object.keys($(elem[elem.length - 1])).length !== 0){
	grid.data('gridstack').removeWidget($(elem[elem.length - 1]),true)
	}
	elem = []
}
})

var grid = $('.grid-stack')
grid.gridstack({
				staticGrid : false,
                width: 12,
				animate : true,
				disableDrag : false,
				disableResize  : false,
				draggable : false,
                alwaysShowResizeHandle: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                resizable: {
                    handles: 'e, se, s, sw, w, ne, nw'
                },
				
            });
});

</script>
</body>

</html>